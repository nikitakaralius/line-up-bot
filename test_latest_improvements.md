# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π Telegram-–±–æ—Ç–∞

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–≤–æ–¥–∞ —Å–≤–æ–µ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –æ–ø—Ä–æ—Å–∞
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥–ª–∏ –≤—ã–±–∏—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "‚úèÔ∏è –°–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ" —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π  
**–§–∞–π–ª—ã:**
- `internal/handlers/callback.go:273` (–∫–Ω–æ–ø–∫–∞ "‚úèÔ∏è –°–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ")
- `internal/handlers/callback.go:255-281` (—Ñ—É–Ω–∫—Ü–∏—è handleCustomDurationInput)
- `internal/handlers/callback.go:247-257` (—Ñ—É–Ω–∫—Ü–∏—è handleBackToDurationSelection)
- `internal/handlers/message.go:176-232` (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–≤–æ–¥–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ Go duration (30m, 2h, 1h30m)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è: –º–∏–Ω–∏–º—É–º 1 –º–∏–Ω—É—Ç–∞, –º–∞–∫—Å–∏–º—É–º 7 –¥–Ω–µ–π
- –ü–æ–¥—Ä–æ–±–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞–∑–∞–¥ –∫ –≤—ã–±–æ—Ä—É –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π

### 2. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ç–µ–º—ã –æ–ø—Ä–æ—Å–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞:** –°—Ç–∞—Ä—ã–µ —Ç–µ–º—ã (–û–±–µ–¥, –ö–æ—Ñ–µ-–±—Ä–µ–π–∫, –ò–≥—Ä—ã) –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –±–∏–∑–Ω–µ—Å-–∫–æ–Ω—Ç–µ–∫—Å—Ç—É  
**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ–º—ã —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ —ç–º–æ–¥–∑–∏  
**–§–∞–π–ª:** `internal/handlers/message.go:241-260`  
**–ù–æ–≤—ã–µ —Ç–µ–º—ã:**
- üìä –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö
- üîí –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ü§ñ –ü—Ä–æ–º–ø—Ç –∏–Ω–∂–µ–Ω–∏—Ä–∏–Ω–≥
- üé® –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
- üèõÔ∏è –°–±–µ—Ä

### 3. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —ç–º–æ–¥–∑–∏ –∫ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º –æ–ø—Ä–æ—Å–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞–≥–æ–ª–æ–≤–∫–∏ –æ–ø—Ä–æ—Å–æ–≤ –≤—ã–≥–ª—è–¥–µ–ª–∏ —Å–ª–∏—à–∫–æ–º –ø—Ä–æ—Å—Ç—ã–º–∏  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω—ã —ç–º–æ–¥–∑–∏ –∫ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –æ–ø—Ä–æ—Å–∞  
**–§–∞–π–ª—ã:**
- `internal/handlers/message.go:278-281` (—Ñ—É–Ω–∫—Ü–∏—è createPoll)
- `internal/handlers/callback.go:171-174` (—Ñ—É–Ω–∫—Ü–∏—è handleConfirmPoll)
**–ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç:**
- üìã –¢–µ–º–∞: [–Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–º—ã]
- ‚è∞ –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: [–≤—Ä–µ–º—è]
- üïê –ó–∞–≤–µ—Ä—à–∏—Ç—Å—è: [–¥–∞—Ç–∞ –≤—Ä–µ–º—è] MSK

## –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢–µ—Å—Ç 1: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–ø—Ä–æ—Å–∞
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å `/poll` –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
2. –í—ã–±—Ä–∞—Ç—å –ª—é–±—É—é —Ç–µ–º—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, "üìä –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö")
3. –í –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞–∂–∞—Ç—å "‚úèÔ∏è –°–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ"
4. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** –ü–æ—è–≤–∏–ª—Å—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞
5. **–¢–µ—Å—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏:** 
   - –í–≤–µ—Å—Ç–∏ `45m` ‚Üí –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–π—Ç–∏ –∫ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—é
   - –í–≤–µ—Å—Ç–∏ `2h30m` ‚Üí –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–π—Ç–∏ –∫ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—é
   - –í–≤–µ—Å—Ç–∏ `invalid` ‚Üí –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –æ—à–∏–±–∫–∞ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
   - –í–≤–µ—Å—Ç–∏ `30s` ‚Üí –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –æ—à–∏–±–∫–∞ "—Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∞—è"
   - –í–≤–µ—Å—Ç–∏ `8d` ‚Üí –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –æ—à–∏–±–∫–∞ "—Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∞—è"
6. **–ù–∞–≤–∏–≥–∞—Ü–∏—è:** –ù–∞–∂–∞—Ç—å "üîô –ù–∞–∑–∞–¥" ‚Üí –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≤—ã–±–æ—Ä—É –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π

### –¢–µ—Å—Ç 2: –ù–æ–≤—ã–µ –±–∏–∑–Ω–µ—Å-—Ç–µ–º—ã
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å `/poll` –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –Ω–æ–≤—ã—Ö —Ç–µ–º:**
   - üìä –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö
   - üîí –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
   - ü§ñ –ü—Ä–æ–º–ø—Ç –∏–Ω–∂–µ–Ω–∏—Ä–∏–Ω–≥
   - üé® –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
   - üèõÔ∏è –°–±–µ—Ä
3. –í—ã–±—Ä–∞—Ç—å –ª—é–±—É—é —Ç–µ–º—É ‚Üí –¥–æ–ª–∂–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –∫ –≤—ã–±–æ—Ä—É –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
4. **–ö–∞—Å—Ç–æ–º–Ω—ã–π –≤–≤–æ–¥:** –í–≤–µ—Å—Ç–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Ç–µ–º—É ‚Üí –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ —Ä–∞–Ω—å—à–µ

### –¢–µ—Å—Ç 3: –≠–º–æ–¥–∑–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö –æ–ø—Ä–æ—Å–æ–≤
1. –°–æ–∑–¥–∞—Ç—å –æ–ø—Ä–æ—Å –ª—é–±—ã–º —Å–ø–æ—Å–æ–±–æ–º (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º –∏–ª–∏ —á–µ—Ä–µ–∑ `/poll –¢–µ–º–∞ | 30m`)
2. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –û–ø—Ä–æ—Å –¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Å —ç–º–æ–¥–∑–∏:
   ```
   üìã –¢–µ–º–∞: [–Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–º—ã]
   ‚è∞ –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: [–≤—Ä–µ–º—è]
   üïê –ó–∞–≤–µ—Ä—à–∏—Ç—Å—è: [–¥–∞—Ç–∞ –≤—Ä–µ–º—è] MSK
   ```
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–µ –¥–æ—Ä–æ–∂–∫–∏:**
   - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ (—á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏)
   - Legacy —Å–æ–∑–¥–∞–Ω–∏–µ (—á–µ—Ä–µ–∑ `/poll –¢–µ–º–∞ | –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å`)

### –¢–µ—Å—Ç 4: –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å `/poll`
2. –í—ã–±—Ä–∞—Ç—å "ü§ñ –ü—Ä–æ–º–ø—Ç –∏–Ω–∂–µ–Ω–∏—Ä–∏–Ω–≥"
3. –í—ã–±—Ä–∞—Ç—å "‚úèÔ∏è –°–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ"
4. –í–≤–µ—Å—Ç–∏ `1h15m`
5. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ
6. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –û–ø—Ä–æ—Å —Å–æ–∑–¥–∞–Ω —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º: "üìã –¢–µ–º–∞: –ü—Ä–æ–º–ø—Ç –∏–Ω–∂–µ–Ω–∏—Ä–∏–Ω–≥\n‚è∞ –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 1 —á. 15 –º–∏–Ω.\nüïê –ó–∞–≤–µ—Ä—à–∏—Ç—Å—è: [–≤—Ä–µ–º—è] MSK"
   - –û–ø—Ü–∏–∏: "—É—á–∞—Å—Ç–≤—É—é" / "–Ω–µ —É—á–∞—Å—Ç–≤—É—é"

### –¢–µ—Å—Ç 5: –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
1. **Legacy —Ñ–æ—Ä–º–∞—Ç:** `/poll –ù–æ–≤–∞—è —Ç–µ–º–∞ | 2h` ‚Üí –¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞—Ç—å –æ–ø—Ä–æ—Å —Å –Ω–æ–≤—ã–º emoji-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –¢–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å –æ–ø—Ä–æ—Å–∞ –º–æ–∂–µ—Ç –≤–≤–æ–¥–∏—Ç—å –∫–∞—Å—Ç–æ–º–Ω—É—é –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
3. **–û—à–∏–±–∫–∏:** –ü—Ä–∏ –Ω–µ–≤–µ—Ä–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "‚úèÔ∏è –°–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ" –≤ –≤—ã–±–æ—Ä–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞–∑–∞–¥ –∏–∑ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –≤–≤–æ–¥–∞
- ‚úÖ 5 –Ω–æ–≤—ã—Ö –±–∏–∑–Ω–µ—Å-—Ç–µ–º —Å —ç–º–æ–¥–∑–∏
- ‚úÖ –≠–º–æ–¥–∑–∏ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö –æ–ø—Ä–æ—Å–æ–≤ (üìã‚è∞üïê)
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –≤–≤–æ–¥–∞ —Ç–µ–º
- ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å legacy —Ñ–æ—Ä–º–∞—Ç–æ–º
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏
- **–ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –æ–ø—Ä–æ—Å–∞:** `"üìã –¢–µ–º–∞: %s\n‚è∞ –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: %s\nüïê –ó–∞–≤–µ—Ä—à–∏—Ç—Å—è: %s"`
- **–ö–∞—Å—Ç–æ–º–Ω–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –í–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ `time.ParseDuration()` —Å –ª–∏–º–∏—Ç–∞–º–∏ 1min-7days
- **–ù–∞–≤–∏–≥–∞—Ü–∏—è:** –î–æ–±–∞–≤–ª–µ–Ω callback `poll_back_to_duration` –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞
- **–°–æ—Å—Ç–æ—è–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π step `duration_custom` –≤ PollCreationState
- **–¢–µ–º—ã:** –û–±–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ —ç–º–æ–¥–∑–∏