# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π Telegram-–±–æ—Ç–∞

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –≤–≤–æ–¥ —Å–≤–æ–µ–π —Ç–µ–º—ã –æ–ø—Ä–æ—Å–∞
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ –≤–≤–æ–¥–µ —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω–æ–π —Ç–µ–º—ã –±–æ—Ç –Ω–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–ª  
**–ü—Ä–∏—á–∏–Ω–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ—Å–ª–µ –≤–≤–æ–¥–∞ –∫–∞—Å—Ç–æ–º–Ω–æ–π —Ç–µ–º—ã  
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ MessageID –≤ handlePollCreationInput –¥–ª—è topic_custom  
**–§–∞–π–ª:** `internal/handlers/message.go:204-211`  
**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```go
// Update the initial poll creation message to remove buttons and show selected topic
if state.MessageID != 0 {
    updatedText := fmt.Sprintf("üìù *–°–æ–∑–¥–∞–Ω–∏–µ –æ–ø—Ä–æ—Å–∞*\n\n‚úÖ **–¢–µ–º–∞:** %s", topic)
    edit := tgbotapi.NewEditMessageText(msg.Chat.ID, state.MessageID, updatedText)
    edit.ParseMode = "Markdown"
    edit.ReplyMarkup = &tgbotapi.InlineKeyboardMarkup{InlineKeyboard: [][]tgbotapi.InlineKeyboardButton{}}
    bot.Send(edit)
}
```

### 2. ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ —á–∏—Å—Ç–æ—Ç–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –ø–æ—Å–ª–µ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –≤–≤–æ–¥–∞
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å–ª–µ –≤–≤–æ–¥–∞ –∫–∞—Å—Ç–æ–º–Ω–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –æ—Å—Ç–∞–≤–∞–ª–∏—Å—å –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥", "–û—Ç–º–µ–Ω–∞"  
**–°—Ç–∞—Ç—É—Å:** –£–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö  
**–§–∞–π–ª:** `internal/handlers/message.go:259-263`  
**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–Ω–æ–ø–∫–∞ "‚úÖ –°–æ–∑–¥–∞—Ç—å" –±–µ–∑ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫

## –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –¢–µ—Å—Ç 1: –†–∞–±–æ—Ç–∞ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –≤–≤–æ–¥–∞ —Ç–µ–º—ã
1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å `/poll` –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**
2. **–ù–∞–∂–∞—Ç—å "‚úèÔ∏è –°–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ" –≤ –≤—ã–±–æ—Ä–µ —Ç–µ–º—ã**
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ—è–≤–∏—Ç—Å—è –ø—Ä–æ–º–ø—Ç —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
4. **–í–≤–µ—Å—Ç–∏ –∫–∞—Å—Ç–æ–º–Ω—É—é —Ç–µ–º—É:** "–†–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤–∞ —Å–ø—Ä–∏–Ω—Ç–∞"
5. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** 
   - –ò—Å—Ö–æ–¥–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è: "üìù –°–æ–∑–¥–∞–Ω–∏–µ –æ–ø—Ä–æ—Å–∞\n\n‚úÖ –¢–µ–º–∞: –†–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤–∞ —Å–ø—Ä–∏–Ω—Ç–∞"
   - –ö–Ω–æ–ø–∫–∏ –∏—Å—á–µ–∑–∞—é—Ç –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
   - –ü–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –≤—ã–±–æ—Ä–æ–º –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –¢–µ—Å—Ç 2: –†–∞–±–æ—Ç–∞ –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –≤–≤–æ–¥–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏  
1. **–í—ã–±—Ä–∞—Ç—å –ª—é–±—É—é —Ç–µ–º—É**
2. **–í –≤—ã–±–æ—Ä–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞–∂–∞—Ç—å "‚úèÔ∏è –°–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ"**
3. **–í–≤–µ—Å—Ç–∏ –∫–∞—Å—Ç–æ–º–Ω—É—é –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** "1h30m"
4. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –ü–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π "‚úÖ –°–æ–∑–¥–∞—Ç—å"
   - –ù–ï–¢ –∫–Ω–æ–ø–æ–∫ "üîô –ù–∞–∑–∞–¥" –∏–ª–∏ "‚ùå –û—Ç–º–µ–Ω–∞"
   - –ß–∏—Å—Ç—ã–π –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –¢–µ—Å—Ç 3: –ü–æ–ª–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
1. **–ó–∞–ø—É—Å—Ç–∏—Ç—å `/poll`**
2. **–í—ã–±—Ä–∞—Ç—å "‚úèÔ∏è –°–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ" –¥–ª—è —Ç–µ–º—ã**
3. **–í–≤–µ—Å—Ç–∏:** "–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ Q4"
4. **–í—ã–±—Ä–∞—Ç—å "‚úèÔ∏è –°–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ" –¥–ª—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
5. **–í–≤–µ—Å—Ç–∏:** "45m"
6. **–ù–∞–∂–∞—Ç—å "‚úÖ –°–æ–∑–¥–∞—Ç—å"**
7. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –°–æ–∑–¥–∞–µ—Ç—Å—è –æ–ø—Ä–æ—Å —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º: "üìã –¢–µ–º–∞: –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ Q4\n‚è∞ –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 45 –º–∏–Ω.\nüïê –ó–∞–≤–µ—Ä—à–∏—Ç—Å—è: [–≤—Ä–µ–º—è] MSK"
   - –û–ø—Ü–∏–∏: "–ò–¥—É" / "–ù–µ –∏–¥—É"

### –¢–µ—Å—Ç 4: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ –≤–≤–æ–¥–∞
1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å A –∑–∞–ø—É—Å–∫–∞–µ—Ç `/poll` –∏ –≤—ã–±–∏—Ä–∞–µ—Ç –∫–∞—Å—Ç–æ–º–Ω—É—é —Ç–µ–º—É**
2. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å B –ø–∏—à–µ—Ç –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ**
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è B –ù–ï —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç–µ–º–æ–π
4. **–¢–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å A –º–æ–∂–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–º—É**

### –¢–µ—Å—Ç 5: –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –æ–±–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –≤–≤–æ–¥–∞ (—Ç–µ–º–∞ –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å) –∏–º–µ—é—Ç:**
   - –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø—Ä–æ–º–ø—Ç—ã —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
   - –ö–Ω–æ–ø–∫–∏ "üîô –ù–∞–∑–∞–¥" –∏ "‚ùå –û—Ç–º–µ–Ω–∞" –≤–æ –≤—Ä–µ–º—è –≤–≤–æ–¥–∞
   - –¢–æ–ª—å–∫–æ –∫–Ω–æ–ø–∫—É "‚úÖ –°–æ–∑–¥–∞—Ç—å" –≤ —Ñ–∏–Ω–∞–ª—å–Ω–æ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤–≤–æ–¥–∞

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### –ö–∞—Å—Ç–æ–º–Ω—ã–π –≤–≤–æ–¥ —Ç–µ–º—ã:
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ MessageID –ø–æ—Å–ª–µ –≤–≤–æ–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è  
- ‚úÖ –ü–æ–∫–∞–∑ –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ç–µ–º—ã –≤ –∏—Å—Ö–æ–¥–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏
- ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥ –∫ –≤—ã–±–æ—Ä—É –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–≤–æ–¥–∏—Ç—å

### –ö–∞—Å—Ç–æ–º–Ω—ã–π –≤–≤–æ–¥ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
- ‚úÖ –ß–∏—Å—Ç—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ "‚úÖ –°–æ–∑–¥–∞—Ç—å")
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫ –≤ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ –∏ –ª–∏–º–∏—Ç–æ–≤
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–≤–æ–¥–∏—Ç—å

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
- **–§–∞–π–ª –∏–∑–º–µ–Ω–µ–Ω:** `internal/handlers/message.go`
- **–°—Ç—Ä–æ–∫–∏:** 204-211 (–¥–æ–±–∞–≤–ª–µ–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ MessageID –¥–ª—è topic_custom)
- **–§—É–Ω–∫—Ü–∏—è:** `handlePollCreationInput`
- **–õ–æ–≥–∏–∫–∞:** –ê–Ω–∞–ª–æ–≥–∏—á–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ–±—ã—á–Ω–æ–≥–æ topic input (—Å—Ç—Ä–æ–∫–∏ 143-150)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –≤–≤–æ–¥–∞ —Ç–µ–º—ã